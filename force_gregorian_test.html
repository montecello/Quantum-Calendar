
    <script>
        // Force Gregorian mode
        console.log('Current mode:', window.CalendarMode ? window.CalendarMode.mode : 'undefined');
        if (window.CalendarMode) {
            window.CalendarMode.mode = 'gregorian';
            console.log('Forced mode to Gregorian');

            // Update mode buttons
            if (typeof updateModeButtons === 'function') {
                updateModeButtons();
            }

            // Force re-render
            if (typeof renderCalendarForState === 'function') {
                console.log('Calling renderCalendarForState...');
                renderCalendarForState();
            }

            // Check results after a delay
            setTimeout(() => {
                const cells = document.querySelectorAll('td[data-iso]');
                console.log('Gregorian cells after render:', cells.length);

                cells.forEach((cell, i) => {
                    if (i < 3) {
                        console.log(`Cell ${i+1}: ISO=${cell.dataset.iso}, Gregorian=${cell.dataset.gregorian}`);
                    }
                });

                // Check for custom calendar info
                const customInfo = document.querySelectorAll('.custom-calendar-info');
                console.log('Custom calendar info elements:', customInfo.length);

            }, 1000);
        } else {
            console.log('CalendarMode not found');
        }
    </script>
    